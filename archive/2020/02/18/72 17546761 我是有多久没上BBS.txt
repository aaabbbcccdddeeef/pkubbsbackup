#t 72 17546761 shenjingwen 2020-02-18 00:16:00 Lotusrein 2020-02-19 16:13:00
我是有多久没上BBS

#p 21865699 shenjingwen 隔壁大叔爱彩绘 2020-02-18 16:23:03
我是有多久没上BBS，突然发现帖子的右下方出现了点赞的按钮。哇，快乐加倍了。之前在浏览帖子的时候经常有觉得“哇，这个说的好有道理”“哇，这个人怎么这样”的想法，就下意识的想要找点赞或者踩的按钮。但是之前只能手动回复表示很赞，现在，哇，真是好方便。快乐加倍！

#p 21866256 Nameless 麦田与十三岁|石榴成熟时 2020-02-18 17:56:53
现在是不是更快乐了……
#quote shenjingwen

#p 21867448 thinky 披风罗汉 2020-02-18 23:24:29
最好可以看到谁在点赞谁在踩
#quote shenjingwen

#p 21867476 Nameless 麦田与十三岁|石榴成熟时 2020-02-18 23:33:10


2020-02-18 23:32:34
我其实也这么认为，特别是现在uid都不回收了，还是有客观条件的吧。
#quote thinky

#p 21867524 XuLanTu Z40|祝HM伟大光荣正确的张聪同志生日快乐 2020-02-18 23:49:51
那得把现有数据清空
否则突然发现熟人踩自己岂不是很尴尬
要不我先踩你一下
#quote Nameless

#p 21867572 Nameless 麦田与十三岁|石榴成熟时 2020-02-19 00:00:06
现有数据肯定没存是谁点的呀，估计就俩unsigned int
#quote XuLanTu

#p 21867629 Homagod 不愉快です 2020-02-19 00:17:40
帮你平衡一下赞踩
#quote shenjingwen

#p 21867765 XuLanTu Z40|祝HM伟大光荣正确的张聪同志生日快乐 2020-02-19 00:51:32
存了
否则你能赞一万次
#quote Nameless

#p 21867795 propagator 马甲 2020-02-19 01:08:03
从数据结构的角度我觉得不是。
首先，每个人都可以看到自己是否点了赞或踩，说明必定存在这个记录。如果按照你说的，这个信息不是按帖子存的，那就只是按用户存的。每个用户下都挂着点赞历史记录。这当然是没问题的，但是在帖子没有对应属性的情况下就很难办了。因为我们知道这个论坛存在着高频率的删帖行为，甚至有些版面会自动删除旧帖。每次删帖都会导致用户名下的记录指向一个已删除的页面，而我们还不知道这个记录已经空了。
同理，还有删除账号的行为。容易想到，为了不让帖子保留无主的赞，用户名下的记录也是需要的。所以这个记录应当是双向的。
当然这是很规范的操作，做的时候甚至不需要想就这样做了。比如给帖子做图标的时候就已经想到是点赞功能，我就给他加一个属性，把谁点的记一下，防止重复计数。肯定不会有人想在删账号的时候遍历一下全站，当然顺手就照着帖子那边的操作加了对应的属性。
#quote Nameless

#p 21867801 Nameless 麦田与十三岁|石榴成熟时 2020-02-19 01:11:21
兰兰说得有道理!
#quote XuLanTu

#p 21867802 Nameless 麦田与十三岁|石榴成熟时 2020-02-19 01:11:33
马甲说得也有道理!
#quote propagator

#p 21867808 Nameless 麦田与十三岁|石榴成熟时 2020-02-19 01:14:38
不过也有可能像帖子的已读标记一样储存的吧
我一直很好奇贵站的"已读"这么庞大的矩阵是怎么保存的
#quote propagator

#p 21867836 propagator 马甲 2020-02-19 01:29:38
每个版面都只有前几页才有未读标记，每次有人访问，在已读列表里加入这个人；每个帖子更新，把这个帖子记录的已读列表清空。然后当某人访问某个版面时，开始识别他是否在这些帖子的已读列表里，给没对应记录的帖子上标记。
#quote Nameless

#p 21867864 propagator 马甲 2020-02-19 01:46:10
每个帖子真正未读是很少的，要多的话得是很多人看但是都不回复，不会产生很大冲击的。
#quote propagator

#p 21868226 BO irregate 2020-02-19 08:10:22
我被踩了，我就不快乐了
#quote shenjingwen

#p 21868341 euio 耳目一心 2020-02-19 08:57:40
&gt;我被踩了，我就不快乐了
你这就被套路了。
要向王阳明学习。
王阳明说：“你们都以落第为耻，我却以落第动心为耻。”
#quote BO

#p 21870080 Lotusrein 宝马飙车风满路 2020-02-19 16:12:12
为了表示对你的资瓷，我默默地踩了一下
#quote shenjingwen

