#t 668 17344380 AllanChain 2019-10-05 00:18:00 PsySunrise 2019-11-09 10:23:00
不知道密码就可查询任何学号的校园卡消费信息！

#p 21050984 AllanChain 此用户已注销 2019-10-05 19:26:59


2019-10-05 18:36:52
[https://github.com/AllanChain/PKUCard](jump-to.php?url=https%3A%2F%2Fgithub.com%2FAllanChain%2FPKUCard) （划掉， 已闭源，一回头就发现太冲动了，已发邮件给计算中心）
希望大家注意一下。
然后我将在在修复问题后重新开源供大家学习。
如果要学习交流、验证真伪的，站内回复如果我无法及时看到，可发邮件我的ID@pku.edu.cn
如果是我技术菜哪里搞错了，也请不要喷我。

#p 21051041 PKUCC 北京大学计算中心 2019-10-05 19:02:21
看到你说的“已发邮件给计算中心”，非常感谢！
#quote AllanChain

#p 21051052 AllanChain 此用户已注销 2019-10-05 19:05:05
但愿我是第一个发现这个问题的，否则后果。。
#quote AllanChain

#p 21052156 RKate GMZR 2019-10-05 22:27:32
自己的校园卡消费信息怎么查啊
#quote PKUCC

#p 21052472 iJackcc CC 2019-10-06 00:08:11
太6了，大神级操作
#quote AllanChain

#p 21052875 AllanChain 此用户已注销 2019-10-06 06:43:14
已经封闭网站入口修bug了，耐心等待吧。
#quote RKate

#p 21052902 AllanChain 此用户已注销 2019-10-06 07:05:39
话说既然已经封闭入口了，我是不是可以整理整理把仓库公开了？
#quote AllanChain

#p 21052919 PKUCC 北京大学计算中心 2019-10-06 07:18:20
同学你好，
感谢你对学校网络信息安全的关注与支持，我们已核实确认了你发现的漏洞，并转给了校园卡中心。校园卡中心已暂停相关网站，并抓紧进行整改修复。
建议等问题修复后再公开，谢谢！
计算中心
2019.10.6
#quote AllanChain

#p 21052919 PKUCC 北京大学计算中心 2019-10-06 07:18:20
同学你好，
感谢你对学校网络信息安全的关注与支持，我们已核实确认了你发现的漏洞，并转给了校园卡中心。校园卡中心已暂停相关网站，并抓紧进行整改修复。
建议等问题修复后再公开，谢谢！
计算中心
2019.10.6
#quote AllanChain

#p 21053187 mycNoone 白学家|傻狗|重度KY患者 2019-10-06 09:30:40
tql
#quote AllanChain

#p 21053264 ChenL CL 2019-10-06 09:58:11
师傅太强了
#quote AllanChain

#p 21053511 out Nginx 2019-10-06 11:08:51
大概知道问题出在哪了……还是上点心吧（捂脸
#quote AllanChain

#p 21053549 ATP 渔夫 2019-10-06 11:19:55
所以人脸识别门禁非常安全，数据绝不会外泄，有人信吗
#quote AllanChain

#p 21053619 pangguanOOOI 追风少年王二狗 2019-10-06 11:35:22
看了看楼主的GitHub频率 膜
#quote AllanChain

#p 21053651 AllanChain 此用户已注销 2019-10-06 11:44:16
求github扩圈 [Facepalm]
#quote pangguanOOOI

#p 21053672 AllanChain 此用户已注销 2019-10-06 11:53:22
这个和门禁。。
再说有没有门禁，采集的学生信息一直在服务器上的。
什么都怕就真的举步维艰了
还是我们大家一起，努力改善
#quote ATP

#p 21053716 chenyihua 伊利丹 2019-10-06 12:07:01
膜
#quote AllanChain

#p 21053947 Seter 西特 2019-10-06 13:13:13
同意
#quote ATP

#p 21054129 INTZC 渣渣 2019-10-06 14:28:22
膜
#quote AllanChain

#p 21054164 AllanChain 此用户已注销 2019-10-06 14:43:03
写README的时候发现bug貌似修好了？
那我写完就公开
#quote PKUCC

#p 21054291 ATP 渔夫 2019-10-06 15:18:37
校园卡信息泄露了倒是没啥，但人脸数据泄露了。。。
一定数量的多角度人脸照片，应该足够还原3D的人脸模型了，那能干的事情就多了...
#quote AllanChain

#p 21054313 AllanChain 此用户已注销 2019-10-06 15:31:50


2019-10-06 15:25:00
呜呜呜，我错了，bug还没修好，貌似是只改了个形式？
等我再核实一下
#quote PKUCC

#p 21054412 stevezhang shiGaRo 2019-10-06 15:54:59
太强了…
#quote AllanChain

#p 21054523 AllanChain 此用户已注销 2019-10-06 16:34:40
一波又起
本来天真的我以为到此为止，画上一个圆满的句号⚪️
但是，漏洞谜之进化，惊现随机掉落的过程！且听我道来：
然后我大胆假设，立下flag：这些同学恰巧这时登录系统，然后服务器记住了他们的登录状态（而不是像以前那样把一个key交给客户端）。这时我的程序进来了。服务器错将程序认为是之前操作的同学（也许是内网IP问题？），放心地把数据交给了我。
#quote AllanChain

#p 21054531 mayyao 喵呜 2019-10-06 16:36:52
（要不要来申请BBS技术站务啊_(:з」∠)_
#quote AllanChain

#p 21054867 AllanChain 此用户已注销 2019-10-06 18:17:50
经过测试，后台成功返回了“获取人员信息异常！“
我觉得现在他们应该算是修好了
#quote AllanChain

#p 21055184 Tranquilsun 串口|不丧|无常 2019-10-06 19:57:44
膜大佬
#quote AllanChain

#p 21055272 Hotarubi 是扇底闪躲|或雨水摧折 2019-10-06 20:21:29
膜大佬
贵校许多网站的前端真的到处有各种奇奇怪怪的东西x
#quote AllanChain

#p 21055392 AllanChain 此用户已注销 2019-10-06 20:55:29
反膜
看得出来你很有研究啊！
#quote Hotarubi

#p 21055502 liuqi 狂风 2019-10-06 21:34:21
这种安全问题能出现，我也是醉了。赞楼主一个
#quote AllanChain

#p 21056251 out Nginx 2019-10-07 00:47:37
线程复用没有干掉threadLocal吧……
#quote AllanChain

#p 21056577 AllanChain 此用户已注销 2019-10-07 06:13:51
膜
我一个学Python的不懂如此高级的线程。查了一下是Java里的？
tql
#quote out

#p 21056673 gwyye 浊酒一杯笑风尘 2019-10-07 07:43:58
膜大佬
#quote AllanChain

#p 21057310 sxpeter  2019-10-07 10:57:32
这种bug旧版dean也有。。
#quote AllanChain

#p 21057888 out Nginx 2019-10-07 13:35:17
不算高级，很常用的一个东西，我现在手里的项目就是用它存储登录信息的
不过只是猜想，既然bug已经修复了，没法验证了
#quote AllanChain

#p 21064962 karlmarx 还我三角地！灵均·六月雪 2019-10-08 21:18:00
以前有一级本科生的校园卡照片在网上传播很广
#quote ATP

#p 21064986 Kurapica 库卡 2019-10-08 21:20:53


2019-10-08 21:20:46
就头三年的吧。当年我还有那个数据库
#quote karlmarx

#p 21289063 PsySunrise 无良之心 2019-11-09 10:22:37
XSS?
#quote out

